{"ast":null,"code":"import _regeneratorRuntime from\"/home/hhelsinki/sandbox-react/react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hhelsinki/sandbox-react/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect,useState}from\"react\";import jwt_decode from'jwt-decode';import{BrowserRouter as Router,Routes,Route,useNavigate,Navigate}from'react-router-dom';import{GoogleLogin,GoogleOAuthProvider}from\"@react-oauth/google\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";function Login(){var ggClientId='412920764604-j8act2t26db6ci1jq74bdj3fd7ju64bd.apps.googleusercontent.com';var navigate=useNavigate();var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(credentialResponse){var obj,rawData,data,myData,config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(credentialResponse);obj=jwt_decode(credentialResponse.credential);rawData=credentialResponse.credential;data=JSON.stringify(obj);console.log(obj.jti);console.log(data);myData={\"token\":\"frontend token\"};config={method:'POST',url:\"http://localhost:3001/api/google-login/tokeninfo?id_token=\".concat(obj),data:{rawData:rawData}};_context.next=10;return axios(config).then(function(res){console.log(res.data);}).catch(function(err){return console.log(err);});case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();useEffect(function(){},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:ggClientId,children:/*#__PURE__*/_jsx(GoogleLogin,{login_uri:\"http://localhost:3001/api/google-login\",onSuccess:handleLogin,onError:function onError(){console.log('Login Failed');}})})});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","jwt_decode","BrowserRouter","Router","Routes","Route","useNavigate","Navigate","GoogleLogin","GoogleOAuthProvider","axios","Login","ggClientId","navigate","handleLogin","credentialResponse","console","log","obj","credential","rawData","data","JSON","stringify","jti","myData","config","method","url","then","res","catch","err"],"sources":["/home/hhelsinki/sandbox-react/react-app/src/components/Login.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport jwt_decode from 'jwt-decode';\nimport { BrowserRouter as Router, Routes, Route, useNavigate, Navigate } from 'react-router-dom';\nimport { GoogleLogin, GoogleOAuthProvider } from \"@react-oauth/google\";\nimport axios from \"axios\";\n\nfunction Login() {\n    const ggClientId = '412920764604-j8act2t26db6ci1jq74bdj3fd7ju64bd.apps.googleusercontent.com';\n    let navigate = useNavigate();\n    \n    const handleLogin = async (credentialResponse) => {\n        console.log(credentialResponse);\n        var obj = jwt_decode(credentialResponse.credential);\n        var rawData = credentialResponse.credential;\n        var data = JSON.stringify(obj);\n        console.log(obj.jti);\n        console.log(data);\n        \n\n        const myData = {\n            \"token\": \"frontend token\" \n        }\n        const config = {\n            method: 'POST',\n            url: `http://localhost:3001/api/google-login/tokeninfo?id_token=${obj}`,\n            data: {\n                rawData\n            }\n        }\n        await axios(config)\n        .then((res) => {\n            console.log(res.data)\n        })\n        .catch((err) => console.log(err))\n    }\n\n      \n    useEffect(() => {\n\n    }, []);\n\n    return (\n        <div>\n\n            <GoogleOAuthProvider clientId={ggClientId}>\n                <GoogleLogin\n                    login_uri=\"http://localhost:3001/api/google-login\"\n                    onSuccess={handleLogin}\n                    onError={() => {\n                        console.log('Login Failed');\n                    }}\n\n                />\n            </GoogleOAuthProvider>\n\n        </div>\n    );\n}\n\nexport default Login;"],"mappings":"0QAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,WAAP,KAAuB,YAAvB,CACA,OAASC,aAAa,GAAIC,OAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,CAAiDC,WAAjD,CAA8DC,QAA9D,KAA8E,kBAA9E,CACA,OAASC,WAAT,CAAsBC,mBAAtB,KAAiD,qBAAjD,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,2CAEA,QAASC,MAAT,EAAiB,CACb,GAAMC,WAAU,CAAG,0EAAnB,CACA,GAAIC,SAAQ,CAAGP,WAAW,EAA1B,CAEA,GAAMQ,YAAW,4FAAG,iBAAOC,kBAAP,uJAChBC,OAAO,CAACC,GAAR,CAAYF,kBAAZ,EACIG,GAFY,CAENjB,UAAU,CAACc,kBAAkB,CAACI,UAApB,CAFJ,CAGZC,OAHY,CAGFL,kBAAkB,CAACI,UAHjB,CAIZE,IAJY,CAILC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAJK,CAKhBF,OAAO,CAACC,GAAR,CAAYC,GAAG,CAACM,GAAhB,EACAR,OAAO,CAACC,GAAR,CAAYI,IAAZ,EAGMI,MATU,CASD,CACX,QAAS,gBADE,CATC,CAYVC,MAZU,CAYD,CACXC,MAAM,CAAE,MADG,CAEXC,GAAG,qEAA+DV,GAA/D,CAFQ,CAGXG,IAAI,CAAE,CACFD,OAAO,CAAPA,OADE,CAHK,CAZC,wBAmBVV,MAAK,CAACgB,MAAD,CAAL,CACLG,IADK,CACA,SAACC,GAAD,CAAS,CACXd,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACT,IAAhB,EACH,CAHK,EAILU,KAJK,CAIC,SAACC,GAAD,QAAShB,QAAO,CAACC,GAAR,CAAYe,GAAZ,CAAT,EAJD,CAnBU,wDAAH,kBAAXlB,YAAW,4CAAjB,CA2BAf,SAAS,CAAC,UAAM,CAEf,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACI,kCAEI,KAAC,mBAAD,EAAqB,QAAQ,CAAEa,UAA/B,uBACI,KAAC,WAAD,EACI,SAAS,CAAC,wCADd,CAEI,SAAS,CAAEE,WAFf,CAGI,OAAO,CAAE,kBAAM,CACXE,OAAO,CAACC,GAAR,CAAY,cAAZ,EACH,CALL,EADJ,EAFJ,EADJ,CAgBH,CAED,cAAeN,MAAf"},"metadata":{},"sourceType":"module"}